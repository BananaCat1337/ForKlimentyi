[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/-nVjX56J)
## Правила и регламент

- [Экзамен: правила, рекомендации и порядок проведения](https://hexly.notion.site/d9289c18871c44508bc7c7f05a51d94f)

## Задание

Ваша задача написать валидатор, в котором есть ряд методов и свойств и экспортировать его по умолчанию из файла *index.js*. Валидатор позволяет проверять аргументы на соответствие необходимым условиям, которые были заданы с помощью методов валидатора. Запуск валидатора происходит в конце задачи, с помощью метода `isValid()`.

Пример использования:

```javascript
// создаем экземпляр валидатора
const v = new Validator();
// определяем метод для валидации строк и связываем его с валидатором, обращаясь к нему через переменную.
const schema = v.string();

// проверяем данные на соответствие строковому типу, с помощью метода isValid()
schema.isValid(null); // false
schema.isValid(''); // true
schema.isValid(123); // false
```

### Примечания

Вы можете самостоятельно протестировать работу валидатора. В каталоге *src* разрешено использовать любые файлы, только с расширением **js** и создавать новые, если это делает вашу разработку более удобной.

Для тестирования валидатора, достаточно создать экземпляр валидатора, настроить валидацию с помощью методов и вызвать метод `validate()` с необходимым аргументом, после чего написать в терминале:

```bash
node index.js
```

## 1 задача

Вам необходимо создать валидатор, который проверяет ISBN номера (международный стандартный книжный номер, в честь агентства ISBN) на соответствие определенным условиям. Для этого в вашем валидаторе должен быть метод `isbnNumber()`, который создает экземпляр валидатора ISBN номеров. Этот экземпляр обладает методом `isValid()`, который принимает данные на вход и возвращает значение *true* или *false* в зависимости от того, являются ли входные данные корректным ISBN номером или нет.

Корректный ISBN номер начинается с *ISBN*

**Аргументы и методы**

- Аргумент, который мы валидируем (проверяем)
- Метод валидатора `isbnNumber()`, который создает экземпляр валидатора ISBN номеров
- Метод `isValid()`, который вызывается у экземпляра `isbnNumber()`. Он проверяет, являются ли входные данные корректным ISBN номером.

```javascript
const v = new Validator();
const isbnNumberSchema = v.isbnNumber();

isbnNumberSchema.isValid('ISBN_978-0-40615-306-7'); // true
isbnNumberSchema.isValid('978-0-306-40615-8'); // false
isbnNumberSchema.isValid('978-0-306-40615-77'); // false
isbnNumberSchema.isValid('978-0-306-40615'); // false
isbnNumberSchema.isValid('978-0-306-40615-a'); // false
```

После добавления метода `isbnNumber()`, экземпляр валидатора сможет проверять, являются ли входные данные корректным ISBN номером.

## 2 задача

Вам необходимо расширить функциональность экземпляра валидатора ISBN номеров, добавив к нему метод `setLengthConstraint()`. Этот метод принимает один обязательный аргумент - минимальную длину ISBN номера, а также один необязательный аргумент - максимальную длину ISBN номера. При вызове метода `setLengthConstraint()`, он добавляет дополнительную проверку, которая будет выполняться при вызове метода `isValid()`.

Валидируется все что находится после *ISBN_*.

**Методы**

- Метод `setLengthConstraint()`, который вызывается у экземпляра `isbnNumber()`. Он добавляет еще одну проверку.

```javascript
const v = new Validator();

const isbnNumberSchema1 = v.isbnNumber();
isbnNumberSchema1.isValid('ISBN_978-0-40615-306-7'); // true

const isbnNumberSchema2 = v.isbnNumber().setLengthConstraint(7);
isbnNumberSchema2.isValid('ISBN_978-0-456'); // true
isbnNumberSchema2.isValid('978-0-306-40615-77'); // false

const isbnNumberSchema3 = v.isbnNumber().setLengthConstraint(4, 6);
isbnNumberSchema3.isValid('ISBN_978-0'); // true
isbnNumberSchema3.isValid('306-0-40615-2'); // false
```

После добавления метода `setLengthConstraint()`, экземпляр валидатора ISBN номеров будет проверять, чтобы входные данные соответствовали указанной длине ISBN номера.

## 3 задача

Вам необходимо создать валидатор, который проверяет количество книг с ISBN номерами. Для этого в вашем валидаторе должен быть метод `bookQuantity()`, который создает экземпляр валидатора количества книг. Этот экземпляр обладает методом `isValid()`, который принимает данные на вход и возвращает значение *true* или *false* в зависимости от того, являются ли входные данные корректным количеством книг.

Ограничения для количества книг: количество книг не может быть отрицательным и должно быть целым числом.

**Аргументы и методы**

- Аргумент, который мы валидируем (проверяем)
- Метод валидатора `bookQuantity()`, который создает экземпляр валидатора количества книг
- Метод `isValid()`, который вызывается у экземпляра `bookQuantity()`. Он проверяет, являются ли входные данные корректным количеством книг.

```javascript
const v = new Validator();
const bookQuantitySchema = v.bookQuantity();

bookQuantitySchema.isValid(10); // true
bookQuantitySchema.isValid(0); // true
bookQuantitySchema.isValid(-5); // false
bookQuantitySchema.isValid(10.5); // false
bookQuantitySchema.isValid('10'); // false
```

После добавления метода `bookQuantity()`, экземпляр валидатора сможет проверять, являются ли входные данные корректным количеством книг.

## 4 задача

Вам необходимо расширить функциональность экземпляра валидатора количества книг, добавив к нему метод `setBookQuantityRangeConstraint()`. Этот метод принимает два обязательных аргумента - минимальное и максимальное значение количества книг. При вызове метода `setBookQuantityRangeConstraint()`, он добавляет дополнительную проверку, которая будет выполняться при вызове метода `isValid()`.

Валидируется только количество книг, находящееся в указанном диапазоне.

**Методы**

- Метод `setBookQuantityRangeConstraint()`, который вызывается у экземпляра `bookQuantity()`. Он добавляет еще одну проверку.

```javascript
const v = new Validator();

const bookQuantitySchema1 = v.bookQuantity();
bookQuantitySchema1.isValid(10); // true

const bookQuantitySchema2 = v.bookQuantity().setBookQuantityRangeConstraint(0, 100);
bookQuantitySchema2.isValid(50); // true
bookQuantitySchema2.isValid(150); // false

const bookQuantitySchema3 = v.bookQuantity().setBookQuantityRangeConstraint(0, 1000);
bookQuantitySchema3.isValid(500); // true
bookQuantitySchema3.isValid(1500); // false
```

После добавления метода `setBookQuantityRangeConstraint()`, экземпляр валидатора количества книг будет проверять, чтобы входное значение находилось в указанном диапазоне.

## 5 задача

Вам необходимо создать валидатор полей пользователя, используя методы, представленные в предыдущих задачах. Для этого необходимо создать метод `user()`, который проверяет не сам объект, а данные внутри него на соответствие заданным валидаторам. Метод `Validator.user()` должен содержать метод `shape()`, позволяющий задать поля, подлежащие валидации, для пользователя. Метод `shape()` принимает объект, ключи которого представляют поля, требующие проверки, а значения - экземпляры валидаторов.

**Методы**

- Метод валидатора (экземпляр класса *Validator*) `user()`, который проверяет данные внутри объекта (поля объекта)
- Метод `shape()`, который вызывается у экземпляра `user()`. Он позволяет задать поля валидации для объекта

```javascript
const v = new Validator();

// Позволяет описывать валидацию для свойств пользователя
const userSchema = v.user().shape({
  isbnNumber: v.isbnNumber().setLengthConstraint(7),
  bookQuantity: v.bookQuantity().setBookQuantityRangeConstraint(0, 1000),
});

userSchema.isValid({
  isbnNumber: 'ISBN_978-0-456',
  bookQuantity: 500,
}); // true

userSchema.isValid({
  isbnNumber: '978-0-306-40615-7',
  bookQuantity: 144444,
}); // false
```

После добавления методов `user()` и `shape()`, экземпляр валидатора сможет проверять поля пользователя на соответствие заданным валидаторам.
